\documentclass[a4paper]{article}
\usepackage{tcolorbox}
\tcbuselibrary{skins}

%This controls the title layout
\tcbset{
    colback=white,
    colframe=black,
    sharp corners,
    boxrule=1.5pt,
    %before skip=8pt,
    after skip=7pt,
}

% This controls the Section Break layout globally
\newcommand{\cornellbreak}[1]{%
  \begin{tcolorbox}[
    colback=gray!0,
    colframe=black!100,
    boxrule=1pt,
    width=0.95\textwidth,
    center,
    before skip=8pt,
    after skip=2pt,
    top=3pt,
    bottom=2pt,
    boxsep=2pt,
  ]
  \centering\normalsize\sffamily #1
  \end{tcolorbox}
}


\title{
\vspace{-3em}
\begin{tcolorbox}
\begin{center}
\Large\sffamily
\textbf{Title}\\
\normalsize\sffamily
Bibliography: Lorem, Ipsum
\end{center}
\end{tcolorbox}
\vspace{-3em}
}

\date{}

% This controls the vertical divider
\usepackage{background}
\SetBgScale{1}
\SetBgAngle{0}
\SetBgColor{gray}
\SetBgContents{\rule[0em]{4pt}{\textheight}}
\SetBgHshift{-2.3cm}
\SetBgVshift{0cm}

\usepackage{lipsum}% just to generate filler text for the example
\usepackage[margin=2cm]{geometry}
\usepackage{lipsum}% just to generate dummy text for the example


%\url{http://tex.stackexchange.com/a/314/86}

\makeatletter

\def\cornell{\@ifnextchar[{\@with}{\@without}}
\def\@with[#1]#2#3{


\begin{tcolorbox}[
    enhanced,
    colback=gray,
    colframe=black,
    fonttitle=\large\bfseries\sffamily,
    sidebyside=true,
    nobeforeafter,
    before=\vfil,after=\vfil,
    colupper=blue,
    sidebyside align=top,
    lefthand width=.3\textwidth,
    %before skip=2pt, after skip=2pt,
    opacityframe=0,opacityback=.3,opacitybacktitle=1, opacitytext=1,
    segmentation style={black!55,solid,opacity=0,line width=3pt},
    title=#1
]
% i don't know what the fuck this does
\begin{tcolorbox}[
    colback=blue!05,
    colframe=blue!25,
    sidebyside align=top,
    width=\textwidth,
    nobeforeafter
]#2
\end{tcobluelorbox}%

\tcblower
\sffamily
\begin{tcolorbox}[colback=blue!05,colframe=blue!10,width=\textwidth,nobeforeafter]
#3
\end{tcolorbox}
\end{tcolorbox}
}

\def\@without#1#2{
\begin{tcolorbox}[
    enhanced,
    colback=white!15,
    colframe=white,
    fonttitle=\bfseries,
    sidebyside=true,
    nobeforeafter,
    before=\vfil,after=\vfil,
    colupper=blue,
    sidebyside align=top,
    lefthand width=.3\textwidth,
    before skip=1pt, after skip=1pt, % This line controls the vertical spacing between questions
    opacityframe=0,opacityback=0,opacitybacktitle=0, opacitytext=1,
    segmentation style={black!55,solid,opacity=0,line width=3pt}
]

% This controls the Question Boxes color, layout, etc...
\begin{tcolorbox}[
    sharp corners,
    boxrule=0.5pt,
    colback=gray!0,
    colframe=black!100,
    sidebyside align=top,
    width=\textwidth,
    top=4pt,
    bottom=3pt,
    boxsep=2pt,
    nobeforeafter
    %before skip=1pt, after skip=1pt
    ]#1
\end{tcolorbox}%

\tcblower

% This controls the Answer Boxes color, layout, etc...
\sffamily
\begin{tcolorbox}[
    sharp corners,
    boxrule=0.5pt,
    colback=gray!0,
    colframe=black!100,
    width=\textwidth,
    nobeforeafter
    %before skip=1pt, after skip=1pt
    ]
#2
\end{tcolorbox}
\end{tcolorbox}
}
\makeatother

\parindent=0pt

%\newcommand{\cornell}[2]{%
%}

%\AddEverypageHook{
%\hspace{.3\textwidth}\vrule width 3pt depth .4\textheight
%\vspace{-\textheight}}

\providecommand{\LyX}{L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}

\begin{document}
\maketitle
\sffamily
\SetBgContents{\rule[0em]{4pt}{\textheight}}


\cornellbreak{\textbf{First Subject}}

\cornell
{Big question example with a lot of words to test the padding?}
{\lipsum[3]}

\cornell
{ExampleQuestion}
{\lipsum[2]}

\cornellbreak{\textbf{New Subject}}

\cornell
{ExampleQuestion}
{ExampleAnswer}

\cornell
{ExampleQuestion}
{ExampleAnswer}

\end{document}

